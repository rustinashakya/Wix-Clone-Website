import{a as Ce,b as De,c as Oe,d as je,e as qe,f as Ve}from"./chunks/chunk.7GUVUEPC.js";import{a as Uo}from"./chunks/chunk.ZFVZXJZZ.js";import{a as Ie,b as Ee}from"./chunks/chunk.AMJCLMP6.js";import{a as te,b as P}from"./chunks/chunk.4OKH6YUN.js";import{C as Pe,X as Me,Y as Fe}from"./chunks/chunk.MLNCY2VP.js";import{a as Yo}from"./chunks/chunk.SPQX36GL.js";import{c as Be,d as Go,h as Te}from"./chunks/chunk.IB76KGCR.js";import{a as Se}from"./chunks/chunk.FQYVO3OR.js";import{a as s,c as d,d as p}from"./chunks/chunk.5OMNPR5I.js";import{c as Vo,d as z,g as N,i as S}from"./chunks/chunk.4GMQEBIT.js";var Ue=Vo(()=>{});var Ye=z((En,Ge)=>{s();p();Ue();Ge.exports={}});var $e=z((Dn,Xe)=>{s();p();Uo();Xe.exports={}});var ne=z(ie=>{"use strict";s();p();Object.defineProperty(ie,"__esModule",{value:!0});ie.default=Xo;function oe(o,e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]".concat(e,"=([^&#]*)")),t=i.exec(o);return t&&t[1]?decodeURIComponent(t[1]).replace(/\+/g," "):""}function Ke(o,e){return oe(o,e)==="true"}function Xo(o){return{getParameterFromQuery:oe,isParameterTrueInQuery:Ke,getParameterByName:oe.bind(null,o.location.search),isParameterTrue:Ke.bind(null,o.location.search)}}});var Qe=z((Gn,Ze)=>{"use strict";s();p();function $o(o){return typeof o>"u"?"undefined":o}function Je(o,e,i){return $o(o).replace(e,i)}Ze.exports=function(){for(var e=arguments[0],i=1;i<arguments.length;++i)e=Je(e,/\/$/,"")+"/"+Je(arguments[i],/^\//,"");return e}});var et=z(D=>{"use strict";s();p();Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;var Ko=/(\d)+\.(\d)+\.(\d)+/,Jo=/^(\d)+\.(\d)+\.(\d)+$/,Zo=/^[0-9a-f]{40}$/,Qo=function(e){return Jo.test(e)||Zo.test(e)};function ei(o,e){return o&&Qo(e)?o.replace(Ko,e):o}var ti=ei;D.default=ti});var tt=z(ae=>{"use strict";s();p();Object.defineProperty(ae,"__esModule",{value:!0});ae.default=ni;var oi=ii(et());function ii(o){return o&&o.__esModule?o:{default:o}}function ni(o,e){return e.split(",").filter(Boolean).forEach(function(i){var t=i.split(":"),n=(0,oi.default)(o[t[0]],t[1]);n&&o[t[0]]!==n&&(o[t[0]]=n)}),o}});var ot=z(re=>{"use strict";s();p();Object.defineProperty(re,"__esModule",{value:!0});re.default=ai;function ai(o){function e(t){try{var n="testStorage".concat(Date.now()),a=o[t];a.setItem(n,n);var r=a.getItem(n);if(a.removeItem(n),r===n)return!0}catch{}return!1}var i;return e("localStorage")?i=o.localStorage:e("sessionStorage")?i=o.sessionStorage:i={setItem:function(){},getItem:function(){},removeItem:function(){}},{save:function(n,a){i.setItem(n,a)},load:function(n){return i.getItem(n)},remove:function(n){i.removeItem(n)}}}});var lo=z(He=>{"use strict";s();p();Object.defineProperty(He,"__esModule",{value:!0});He.default=sn;function ro(o,e){return ln(o)||rn(o,e)||an()}function an(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function rn(o,e){if(Symbol.iterator in Object(o)||Object.prototype.toString.call(o)==="[object Arguments]"){var i=[],t=!0,n=!1,a=void 0;try{for(var r=o[Symbol.iterator](),l;!(t=(l=r.next()).done)&&(i.push(l.value),!(e&&i.length===e));t=!0);}catch(c){n=!0,a=c}finally{try{!t&&r.return!=null&&r.return()}finally{if(n)throw a}}return i}}function ln(o){if(Array.isArray(o))return o}function sn(o,e,i,t){var n=new RegExp("^(".concat(i,":)(.*)|(.*)$")),a={};Object.keys(o).forEach(function(u){a[u]=o[u]});var r=function(g){var x=ro(g,2),v=x[0],w=x[1];a[v]=w},l=function(g){return g.replace(n,"$2")},c=function(g){return g.split(";").map(l).filter(Boolean).join(",")},f=function(g,x){var v=e.getParameterByName(g,t);v.indexOf(":")!==-1&&(v=c(v)),v.split(",").filter(Boolean).map(function(w){return[w,x]}).forEach(r)},m=function(){e.getParameterByName("".concat(i,"exp"),t).split(",").filter(Boolean).map(function(g){return g.split(":")}).map(function(g){var x=ro(g,2),v=x[0],w=x[1];return[v,w||"new"]}).forEach(r)};return f("experiments","new"),f("experimentsoff","old"),m(),a}});var go=z((Dp,fo)=>{"use strict";s();p();var so=new WeakMap;function co(o){var e=o&&(o.rendererModel||o.editorModel)||{},i=e.runningExperiments,t=i===void 0?{}:i;return t}function pn(o){return Object.keys(o).reduce(function(e,i){return e[i.toLowerCase()]=o[i],e},Object.create(null))}function bo(o,e){var i=co(e),t=i[o];if(t!==void 0)return t;var n=so.get(i);return n||(n=pn(i),so.set(i,n)),n[o.toLowerCase()]}function po(o,e){var i=bo(o,e);return!!(i&&i!=="old"&&i!=="false")}fo.exports={getRunningExperiments:co,isMultiValueExperimentOpen:po,isOpen:po,getValue:bo}});var uo=z((qp,mo)=>{"use strict";s();p();var J=go();function cn(o){return{getRunningExperiments:function(i){return J.getRunningExperiments(i||o)},isOpen:function(i,t){return J.isOpen(i,t||o)},getValue:function(i,t){return J.getValue(i,t||o)},isMultiValueExperimentOpen:function(i,t){return J.isMultiValueExperimentOpen(i,t||o)}}}mo.exports={build:cn}});var Io=z((md,Ln)=>{Ln.exports={versions:{"@juggle/resize-observer":"3.2.0","@sentry/browser":"6.19.7","@types/wcag-contrast":"3.0.0","@webcomponents/custom-elements":"1.6.0","@wix/add-panel-common":"2.0.81","@wix/add-panel-component":"2.0.186","@wix/adi-content-api":"1.3128.0","@wix/adi-core-types":"1.3000.57","@wix/adi-preset-api":"1.3342.0","@wix/ambassador":"4.0.584","@wix/ambassador-app-service-webapp":"3.0.2039","@wix/ambassador-data-v1-data-service":"1.0.91","@wix/ambassador-dealer-offer-events-service":"1.0.57","@wix/ambassador-dealer-offers-serving-service":"1.0.140","@wix/ambassador-devcenter-app-market-listing-v1-market-listing":"1.0.73","@wix/ambassador-devcenter-appmarket-v1-tag-app":"1.0.43","@wix/ambassador-devcenter-apps-v1-app-version":"1.0.57","@wix/ambassador-devcenter-market-apps-v1-market-app":"1.0.53","@wix/ambassador-devcenter-marketplace-v1-web-solution":"1.0.48","@wix/ambassador-devcenter-v1-app":"1.0.40","@wix/ambassador-devcenter-v1-component":"1.0.416","@wix/ambassador-emails-email-marketing-v1-fake-mailchimp-service-entity":"1.0.0","@wix/ambassador-genie-v1-compose":"1.0.19","@wix/ambassador-genie-v1-image-recommendation":"1.0.5","@wix/ambassador-iam-connection-v1-connection":"1.0.24","@wix/ambassador-identity-account-v2-account":"1.0.85","@wix/ambassador-identity-infra-v1-token":"1.0.39","@wix/ambassador-media-media-manager-color-extractor-v1-colors":"1.0.18","@wix/ambassador-members-v1-default-privacy":"1.0.41","@wix/ambassador-members-v1-member-privacy-settings":"1.0.36","@wix/ambassador-mobile-v1-branded-app":"1.0.125","@wix/ambassador-multilingual-sitetranslator-v2-site-translatable-properties":"1.0.38","@wix/ambassador-predictor-prime-service":"3.0.108","@wix/ambassador-premium-features-manager-v1-feature":"1.0.58","@wix/ambassador-promote-ascend-utils-service-v1-utils":"1.0.10","@wix/ambassador-site-apps-server":"1.0.113","@wix/ambassador-stores-catalog-v1-product":"1.0.467","@wix/ambassador-wix-atlas-service-web":"1.0.189","@wix/ambassador-wix-bi-profile-webapp":"2.0.156","@wix/animations-kit":"1.201.0","@wix/api-debug-tools":"1.0.0","@wix/app-definition-ids":"1.0.54","@wix/app-studio-code-parser":"1.0.0","@wix/background-media-utils":"1.45.0","@wix/bi-logger-blocks":"1.1793.0","@wix/bi-logger-blocks-consumption":"1.21.0","@wix/bi-logger-blocks-data":"1.9.0","@wix/bi-logger-components-data":"1.12.0","@wix/bi-logger-editor":"1.4000.0","@wix/bi-logger-editor-data":"1.261.0","@wix/bi-logger-editor-platform":"1.30.0","@wix/chat-service-sdk":"1.299.0","@wix/chat-widget-common-widgets":"1.305.0","@wix/chat-widget-ui-lib":"2.248.0","@wix/cms-web-premium-helpers":"1.42.0","@wix/color-picker":"1.569.0","@wix/common-widget-types":"1.3.0","@wix/css-gradient-generator":"1.66.0","@wix/data-capsule":"2.258.0","@wix/deeplink-core":"1.1317.0","@wix/deeplink-editor":"1.1322.0","@wix/design-system":"1.114.0","@wix/discovery-client":"1.2.3","@wix/duplexer-js":"1.0.731","@wix/editor-add-panel":"1.0.0","@wix/editor-component-data-resolver":"1.0.0","@wix/editor-component-types":"1.0.0","@wix/editor-content-injector":"1.0.0","@wix/editor-content-provider":"1.0.0","@wix/editor-elements-design-panel-params":"1.69.0","@wix/editor-elements-panel":"1.200.0","@wix/editor-elements-preview-utils":"1.1988.0","@wix/editor-elements-registry":"1.6411.0","@wix/editor-elements-types":"1.2672.0","@wix/editor-error-reporter":"1.0.0","@wix/editor-kits":"1.0.0","@wix/editor-loader-spinner":"1.0.0","@wix/editor-organize-images":"1.0.0","@wix/editor-platform-host-integration":"1.3712.0","@wix/editor-platform-host-integration-apis":"1.1553.0","@wix/editor-prediction-utils":"1.0.0","@wix/editor-search-ui":"1.0.168","@wix/editor-site-generator":"1.0.0","@wix/editor-utility-layout-transforms":"1.11.113","@wix/effects-kit":"1.201.0","@wix/fedops-logger":"5.504.0","@wix/focal-point-input":"1.85.0","@wix/http-client-testkit":"1.677.0","@wix/image-kit":"1.74.0","@wix/installation-manager-client-sdk":"1.827.0","@wix/locale-dataset-javascript":"1.57.0","@wix/media-frame":"1.708.0","@wix/media-image-studio-opener":"3.291.0","@wix/media-manager-kit":"1.157.0","@wix/media-manager-sdk":"1.0.0","@wix/media-platform-js-client":"1.0.0","@wix/motion-effects-panels":"1.217.0","@wix/multilingual-words-counter":"1.3.0","@wix/platform-editor-sdk":"1.3960.0","@wix/santa-animations":"1.495.0","@wix/santa-browser-detection":"1.448.0","@wix/santa-core-utils":"1.2722.0","@wix/santa-ds-libs":"1.980.0","@wix/santa-editor-symbols":"1.0.0","@wix/santa-editor-utils":"1.0.0","@wix/santa-external-modules":"1.644.0","@wix/santa-host-platform-services":"1.737.0","@wix/santa-main-r":"1.1597.0","@wix/santa-multilingual":"1.1157.0","@wix/santa-platform-utils":"1.1408.0","@wix/santa-welcome-screen":"2.1440.0","@wix/stylable-panel":"3.219.0","@wix/stylable-panel-common":"3.43.0","@wix/stylable-panel-controllers":"3.120.0","@wix/stylable-panel-drivers":"3.53.0","@wix/stylable-santa-flatten":"4.0.6","@wix/text-mask-panels":"1.461.0","@wix/thumbnail-generator":"3.0.236","@wix/thunderbolt-fonts":"1.0.31","@wix/tour-maker":"2.0.166","@wix/user-feedback-opener":"2.5.81","@wix/video-maker-opener":"2.0.17","@wix/web-bi-logger":"2.0.993","@wix/wix-base-ui":"4.148.0","@wix/wix-code-classic-editor":"1.1138.0","@wix/wix-code-editor-adapter":"1.333.0","@wix/wix-code-external-apis":"1.263.0","@wix/wix-code-platform":"1.1097.93","@wix/wix-data-connector-settings-client":"1.0.396","@wix/wix-data-platformized-client":"2.0.696","@wix/wix-data-schema-types":"2.0.17","@wix/wix-elementory-globals":"5.0.133","@wix/wix-json-schema-utils":"1.133.0","@wix/wix-richtext":"4.3.0","@wix/wix-santa":"1.12170.0","@wix/wix-ui-icons-common":"3.36.0","ab-translate":"1.2.1",codemirror:"5.58.3","create-react-class":"15.7.0","date-fns":"2.30.0","date-fns-tz":"2.0.0",fastdom:"1.0.12",gsap:"1.19.0","hoist-non-react-statics":"3.3.2",i18next:"21.10.0","image-client-api":"1.4060.0","jest-canvas-mock":"2.5.2",jquery:"2.2.4",jszip:"2.6.1","jszip-utils":"0.0.2",lodash:"4.17.21","lottie-react":"2.4.0",mobx:"3.3.3","mobx-react":"4.2.2",nanoid:"3.3.1","node-fetch":"2.7.0",process:"0.11.10","prop-types":"15.8.1",qrcode:"1.4.4",react:"16.13.1","react-addons-linked-state-mixin":"15.6.2","react-addons-pure-render-mixin":"15.6.2","react-contenteditable":"3.3.7","react-custom-scroll":"3.2.2","react-dnd":"10.0.2","react-dnd-html5-backend":"10.0.2","react-dom":"16.13.1","react-dom18":"18.2.0","react-i18next":"11.18.6","react-markdown":"8.0.7","react-query":"3.39.3","react-redux":"7.2.9","react-string-replace":"1.1.1","react-transition-group":"2.4.0",react18:"18.2.0",redux:"4.2.1","redux-thunk":"2.3.0",repluggable:"1.302.52",reselect:"4.0.0","scss-root-selectors":"1.0.0",seedrandom:"2.4.3",tslib:"2.6.3","ua-parser-js":"1.0.36","wcag-contrast":"3.0.0","wix-style-react":"10.168.0",zepto:"1.2.0","zepto-node":"1.0.0","santa-langs":"1.37096.0"}}});s();p();var Td=N(Ye()),Cd=N($e());s();p();var Eo=N(ne()),Bo=N(Qe()),To=N(tt()),Co=N(ot()),_e=N(Se());import"trigger-importmap-shim";s();p();s();p();var F=class extends Error{constructor(i,{code:t,originalError:n}){super(i);S(this,"code");S(this,"message");this.name=this.constructor.name,this.code=t,this.message=`${t?`${t}. ${i}`:`${i}`} `,n&&n instanceof Error&&(this.stack=n.stack,this.message+=`
  - Original error message: ${n.message}`)}};s();p();s();p();s();p();async function it(){if(!("ResizeObserver"in window)){let o=await import("./chunks/resize-observer.ZME4DBQ5.js");window.ResizeObserver=o.ResizeObserver}Math.sign||(Math.sign=function(o){return o=+o,o===0||isNaN(o)?o:o>0?1:-1}),Array.prototype.toSorted||(Array.prototype.toSorted=function(o){if(typeof o<"u"&&typeof o!="function")throw new TypeError(`The comparison function must be either a function or undefined: ${o}`);return[...this].sort(o)})}async function le({fedopsLogger:o},e){o.appLoadingPhaseStart("main-chunk-load-main-packages"),await it(),o.appLoadingPhaseStart("main-chunk-load-rEditor");let i=await import("./chunks/rEditor.RUHFPR6N.js").catch(t=>{throw console.error(t),new F("Failed to load @/rEditor",{code:"EditorBootstrap_LoadPackagesError",originalError:t})});return o.appLoadingPhaseFinish("main-chunk-load-rEditor"),o.appLoadingPhaseFinish("main-chunk-load-main-packages"),typeof window.__editorMainJsLoadedCb=="function"&&window.__editorMainJsLoadedCb(),{rEditor:i}}async function nt({editorLoggers:o,editorModel:e,editorParams:i,editorPermissions:t,editorBaseHooks:n},a){let r=o.fedops.logger,{rEditor:l}=await le({fedopsLogger:r,editorModel:e},a),c;try{r.appLoadingPhaseStart("editor-build-app"),c=await l.editorMain.build({editorParams:i,editorLoggers:o,editorPermissions:t,editorBaseHooks:n}),r.appLoadingPhaseFinish("editor-build-app")}catch(u){throw new F("Failed to build editor",{code:"EditorBootstrap_EditorBuildAppError",originalError:u})}let f=()=>{};if(a.shouldRender)try{r.appLoadingPhaseStart("editor-render-app"),{unmount:f}=l.editorMain.render(c),r.appLoadingPhaseFinish("editor-render-app")}catch(u){throw new F("Failed to render editor",{code:"EditorBootstrap_EditorRenderAppError",originalError:u})}return{builtEditor:c,clean:()=>f()}}s();p();s();p();s();p();var Y=N(Te());s();p();s();p();s();p();var se={src:72,persistentEndpoint:"performance",nonPersistentEndpoint:"fed",successRateRoot:"fedops_events",performanceRoot:"fedops_performance",appLoadStart:{eventId:14},appLoadFinish:{eventId:11},loadPhaseStart:{eventId:12},loadPhaseFinish:{eventId:13},interactionStart:{eventId:15},interactionEnd:{eventId:16},error:{eventId:17},resource:{eventId:18}};var at={src:72,persistentEndpoint:"ds-performance",nonPersistentEndpoint:"ds-performance",successRateRoot:"ds_events",performanceRoot:"ds_performance",appLoadStart:{eventId:31},appLoadFinish:{eventId:33},interactionStart:{eventId:34},interactionEnd:{eventId:35},loadPhaseStart:{eventId:38},loadPhaseFinish:{eventId:32},error:{eventId:36},resource:{eventId:37}};var rt={src:72,persistentEndpoint:"editor-performance",nonPersistentEndpoint:"editor-performance",successRateRoot:"editor_events",performanceRoot:"editor_performance",appLoadStart:{eventId:41},appLoadFinish:{eventId:43},interactionStart:{eventId:44},interactionEnd:{eventId:45},loadPhaseStart:{eventId:48},loadPhaseFinish:{eventId:42},error:{eventId:46},resource:{eventId:47}};var lt={src:72,persistentEndpoint:"bolt-performance",nonPersistentEndpoint:"bolt-performance",successRateRoot:"bolt_events",performanceRoot:"bolt_performance",appLoadStart:{eventId:21},loadPhaseStart:{eventId:28},loadPhaseFinish:{eventId:22},appLoadFinish:{eventId:23},interactionStart:{eventId:24},interactionEnd:{eventId:25},error:{eventId:26},resource:{eventId:27}};var st={src:72,persistentEndpoint:"ooi-performance",nonPersistentEndpoint:"ooi-performance",successRateRoot:"fedops_events",performanceRoot:"fedops_performance",appLoadStart:{eventId:61},appLoadFinish:{eventId:63},interactionStart:{eventId:64},interactionEnd:{eventId:65},loadPhaseStart:{eventId:68},loadPhaseFinish:{eventId:62},error:{eventId:66},resource:{eventId:67}};var pt={src:72,persistentEndpoint:"mobile-performance",nonPersistentEndpoint:"mobile-performance",successRateRoot:"fedops_events",performanceRoot:"fedops_performance",appLoadStart:{eventId:51},appLoadFinish:{eventId:53},interactionStart:{eventId:54},interactionEnd:{eventId:55},loadPhaseStart:{eventId:58},loadPhaseFinish:{eventId:52},error:{eventId:56},resource:{eventId:57}};s();p();var L={DEFAULT:"DEFAULT",DS:"DS",EDITOR:"EDITOR",OOI:"OOI",BOLT:"BOLT",MOBILE:"MOBILE"};function T(o){switch(o){case L.DEFAULT:return se;case L.BOLT:return lt;case L.DS:return at;case L.EDITOR:return rt;case L.OOI:return st;case L.MOBILE:return pt;default:return se}}s();p();var fi={},h=function(){return typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof d<"u"?d:typeof WorkerGlobalScope<"u"?WorkerGlobalScope:fi};s();p();var pe="fedops.logger.sessionId",ct="0.0.0";s();p();s();p();var dt=N(Te()),bt=function(){function o(i){var t=i.biLoggerFactory,n=i.baseUrl,a=i.preset,r=i.useBatch;this._preset=a;var l=r!==!1;this._factory=t||dt.factory({host:n,useBatch:l}),this._publisher=this._factory.logger(),this._nonBatchedPublisher=this._factory.logger({useBatch:!1})}var e=o.prototype;return e.flush=function(){this._publisher.flush()},e.report=function(t,n,a){if(!t)return null;var r=n||this._preset.nonPersistentEndpoint;return a&&a.useBatch===!1?this._nonBatchedPublisher.log(t,{endpoint:r,category:"essential"}):this._publisher.log(t,{endpoint:r,category:"essential"})},o}();var ft;function E(o){var e=o===void 0?{}:o,i=e.biLoggerFactory,t=e.baseUrl,n=e.endpoint,a=e.preset,r=e.useBatch;return ft?ft({preset:a}):new bt({biLoggerFactory:i,baseUrl:t,endpoint:n,preset:a,useBatch:r})}s();p();Go();s();p();var k={getNavigation:function(){var e;return((e=h().performance)==null?void 0:e.navigation)||{}},getResources:function(){var e;return((e=h().performance)==null||e.getEntriesByType==null?void 0:e.getEntriesByType("resource"))||[]},getMarks:function(){var e;return((e=h().performance)==null||e.getEntriesByType==null?void 0:e.getEntriesByType("mark"))||[]},getTiming:function(){var e;return((e=h().performance)==null?void 0:e.timing)||{}},clearResourceTimings:function(){var e;(e=h().performance)==null||e.clearResourceTimings==null||e.clearResourceTimings()},now:function(){var e,i;return((e=h().performance)==null||e.now==null?void 0:e.now())||typeof performance<"u"&&((i=performance)==null||i.now==null?void 0:i.now())||new Date().getTime()},responseEndTime:function(){var e,i,t,n,a=(e=performance)==null||(i=e.timing)==null?void 0:i.fetchStart,r=(t=performance)==null||(n=t.timing)==null?void 0:n.responseEnd;if(a&&r)return r-a},mark:function(e){var i;(i=h().performance)==null||i.mark==null||i.mark(e)},measure:function(e,i,t){var n;(n=h().performance)==null||n.measure==null||n.measure(e,i,t)},getEntriesByName:function(e){var i;return((i=h().performance)==null||i.getEntriesByName==null?void 0:i.getEntriesByName(e))||[]}};s();p();s();p();function gt(o){return((h().fedops||{}).apps||{})[o]}function gi(){h().fedops=h().fedops||{},h().fedops.apps=h().fedops.apps||{}}function mi(o){h().fedops.apps[o]=h().fedops.apps[o]||{}}function mt(o){gi(),mi(o)}function ut(o){return(gt(o)||{}).startLoadTime||0}function ce(o,e){return(gt(o)||{}).startLoadTime=e}function de(o){return(h().fedops||{}).sessionId=o}var O=function(){function o(i){this.appName=i,this.apps={},this.apps[i]={}}var e=o.prototype;return e._getKeyForApp=function(t,n){return t===void 0&&(t=this.appName),n?t+"_"+n:t},e.setLoadStarted=function(t){var n=t===void 0?{}:t,a=n.appId,r=n.widgetId,l=this._getKeyForApp(a,r);this.apps[l]||(this.apps[l]={});var c=k.now();this.apps[l].startLoadTime=c,a||ce(l,c)},e.getLoadStartTime=function(t){var n=t===void 0?{}:t,a=n.appId,r=n.widgetId,l=this._getKeyForApp(a,r),c=this.getLoadStartTimeFromInstance(l)||ut(l)||0;return Math.floor(c)},e.getLoadStartTimeFromInstance=function(t){return this.apps[t]&&this.apps[t].startLoadTime},e.getAppLoadTime=function(t){var n=t===void 0?{}:t,a=n.appId,r=n.widgetId;return Math.floor(k.now()-this.getLoadStartTime({appId:a,widgetId:r}))},e.getFirstRequestDuration=function(t){var n=t===void 0?{}:t,a=n.appId,r=n.widgetId;return this.getLoadStartTime({appId:a,widgetId:r})},o}();s();p();s();p();var _=function(){function o(i){i===void 0&&(i=void 0),this.data=i}var e=o.prototype;return e.isActive=function(){return!0},e.export=function(){return this.data},o}();var be=function(){function o(i){var t=this;i===void 0&&(i=null),this.items=[],i&&(typeof i.length>"u"?[i]:i).forEach(function(n){return t.addItem(n)})}var e=o.prototype;return e.clone=function(){return new o(this.items.slice())},e.addItem=function(t){return this.items.push(t instanceof _?t:new _(t)),this},e.mergeItems=function(){for(var t={},n=0;n<this.items.length;n++){var a=this.items[n];if(!a.isActive()){t=null;break}var r=a.export();for(var l in r)r.hasOwnProperty(l)&&(t[l]=r[l])}return t},o}();s();p();s();p();var fe={getItem:function(e){try{return h().localStorage&&h().localStorage.getItem(e)}catch{}},setItem:function(e,i){try{return h().localStorage&&h().localStorage.setItem(e,i)}catch{}}};s();p();var j=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var i=Math.random()*16|0,t=e==="x"?i:i&3|8;return t.toString(16)})},ui=/\[fedops] phase:([^ ]+) ([^ ]+) ?(.*) (started|finished)/,ht=function(e){var i=ui.exec(e);if(i)return{phaseName:i[1],appId:i[2],widgetId:i[3]}},hi=/\[fedops] ([^ ]+) interaction ([^ ]+) (started|ended)/,xt=function(e){var i=hi.exec(e);if(i)return{appName:i[1],interactionName:i[2]}},vt=function(e){return xi(e)?":param":e},xi=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},wt=function(e){var i;try{return i=new URL(e),i}catch{var t,n,a;return{pathname:e,origin:(t=(n=h())==null||(a=n.location)==null?void 0:a.origin)!=null?t:""}}};var vi={getSessionId:function(){var e=typeof h()<"u"&&h().fedops&&h().fedops.sessionId;return e=e||fe.getItem(pe),e=e||j(),de(e),fe.setItem(pe,e),e}},kt=vi;s();p();var yt=function(){function o(i,t){this.appName=i,this.phases=new Map,this.indexToKey=new Map,this.times=t||new O(i)}o._getIndexForPhase=function(t){var n=t.name,a=t.appId,r=a===void 0?"":a,l=t.widgetId,c=l===void 0?"":l;return n+"_"+r+"_"+c};var e=o.prototype;return e.getAppLoadingPhaseData=function(t){var n=t.name,a=t.appId,r=t.widgetId;return this.phases.get(o._getIndexForPhase({name:n,appId:a,widgetId:r}))},e.saveLoadingPhase=function(t){var n=t.name,a=t.appId,r=t.widgetId,l=o._getIndexForPhase({name:n,appId:a,widgetId:r});if(!this.phases.has(l)){var c=this.phases.size;this.phases.set(l,{name:n,phaseStartTime:k.now(),index:c}),this.indexToKey.set(c,l)}},e.endLoadingPhase=function(t){var n=t.name,a=t.appId,r=t.widgetId,l=t.widgetArray,c=o._getIndexForPhase({name:n,appId:a,widgetId:r});if(!(!this.phases.has(c)||this.phases.get(c).duration)){var f=this.phases.get(c);f.duration=k.now()-f.phaseStartTime,l&&(f.widgetArray=l),r&&(f.widgetId=r),this.phases.set(c,f)}},e.getNextPhaseToReport=function(){var t=this.phases.size-1,n=this.indexToKey.get(t);return this.phases.get(n)},e.getPhasePreviousTo=function(t){var n=t.name,a=t.appId,r=t.widgetId,l=this.phases.get(o._getIndexForPhase({name:n,appId:a,widgetId:r})),c=this.indexToKey.get(l.index-1);return this.phases.get(c)},e.getPhases=function(t){var n=t===void 0?{}:t,a=n.appId,r=function(c){var f;return f={},f[c.name]=c,f};return Array.from(this.phases).filter(function(l){var c=l[0],f=c.split("_"),m=f[1];return a&&m===a||!a}).map(function(l){var c=l[1];return r(c)})},o}();s();p();s();p();function wi(o,e){o.prototype=Object.create(e.prototype),o.prototype.constructor=o,ge(o,e)}function ge(o,e){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},ge(o,e)}var Ht=function(o){wi(e,o);function e(t){var n,a=t.appId,r=t.widgetId,l=t.isServerSide,c=t.widgetArray;return n=o.call(this)||this,n.data=n._filterUndefined({appId:a,widgetId:r,isServerSide:l,widgetArray:c}),n}var i=e.prototype;return i._filterUndefined=function(n){var a={};return Object.keys(n).forEach(function(r){n[r]&&(a[r]=n[r])}),a},e}(_);s();p();function ki(o,e){o.prototype=Object.create(e.prototype),o.prototype.constructor=o,me(o,e)}function me(o,e){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},me(o,e)}var Nt=function(o){ki(e,o);function e(t){return o.call(this,{duration:t})||this}var i=e.prototype;return i.setFirstRequestDuration=function(n){return this.data.frd=n,this},e}(_);s();p();function yi(o,e){var i=typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(i)return(i=i.call(o)).next.bind(i);if(Array.isArray(o)||(i=Hi(o))||e&&o&&typeof o.length=="number"){i&&(o=i);var t=0;return function(){return t>=o.length?{done:!0}:{done:!1,value:o[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hi(o,e){if(o){if(typeof o=="string")return Wt(o,e);var i=Object.prototype.toString.call(o).slice(8,-1);if(i==="Object"&&o.constructor&&(i=o.constructor.name),i==="Map"||i==="Set")return Array.from(o);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Wt(o,e)}}function Wt(o,e){(e==null||e>o.length)&&(e=o.length);for(var i=0,t=new Array(e);i<e;i++)t[i]=o[i];return t}function zt(o){for(var e={},i=yi(o),t;!(t=i()).done;){var n=t.value;Ni(n),e=Object.assign(e,n)}return e}function Lt(o){return Math.floor(k.now()-o)}function Ni(o){delete o[Object.getOwnPropertyNames(o)[0]].index}var ue=function(){function o(i,t){this._sessionId=i,this._preset=t}var e=o.prototype;return e.biAppLoadStart=function(){return this._biDataItem(this._preset.appLoadStart.eventId)},e.biAppLoadFinish=function(){return this._biDataItem(this._preset.appLoadFinish.eventId)},e.biInteractionStart=function(){return this._biDataItem(this._preset.interactionStart.eventId)},e.biInteractionEnd=function(){return this._biDataItem(this._preset.interactionEnd.eventId)},e.biLoadPhaseStart=function(){return this._biDataItem(this._preset.loadPhaseStart.eventId)},e.biLoadPhaseFinish=function(){return this._biDataItem(this._preset.loadPhaseFinish.eventId)},e.biHttpRequest=function(){return this._biDataItem(this._preset.httpRequest.eventId)},e.biHttpResponse=function(){return this._biDataItem(this._preset.httpResponse.eventId)},e.biHttpResponseTime=function(){return this._biDataItem(this._preset.httpResponseTime.eventId)},e.biBlackbox=function(t){var n={environment:500,"initial-paint":501,loaded:502,visibility:503,"first-input":504,"page-transition":505,crux:506,"crux-cls":507,responsiveness:508},a=n[t.entryType];return a&&this._biDataItem(a)},e.blackboxPerformance=function(t){return this.dataItem(t)},e.webVitalsLoaded=function(){return this._biDataItem(29)},e.webVitalsFirstInput=function(){return this._biDataItem(39)},e.biError=function(){return this._biDataItem(this._preset.error.eventId)},e.appName=function(t){var n=t.appName,a=t.isServerSide;return this.dataItem({appName:a?n+"_ssr":n})},e.artifact=function(t){var n=t.id,a=t.version,r=t.isRollout;return this.dataItem({artifactId:n,artifactVersion:a,isRollout:r})},e.appContext=function(t){return new Ht(t)},e.customParams=function(t){return this.dataItem({customParams:t})},e.duration=function(t){return new Nt(t)},e.loadingPhaseCollection=function(t){var n=JSON.stringify(zt(t));return this.dataItem({phases:n})},e.loadingPhaseStart=function(t){var n=t.name;return this.dataItem({name:n})},e.loadingPhaseFinish=function(t){var n=t.name,a=t.phaseStartTime,r=Lt(a);return this.dataItem({name:n,duration:r})},e.dataItem=function(t){return new _(t)},e._biDataItem=function(t){var n=this._asBiEvent(t);return this.dataItem(n)},e._asBiEvent=function(t){return{src:this._preset.src,evid:t,session_id:this._sessionId,_:new Date().getTime()}},o}();s();p();var B={SEND_ON_START:"SEND_ON_START",SEND_ON_FINISH:"SEND_START_AND_FINISH",SEND_ON_APP_LOADED:"SEND_ON_START",SEND_START_AND_FINISH:"SEND_START_AND_FINISH"};s();p();s();p();s();p();s();p();var _t="fedops.logger.defaultOverrides";s();p();function At(o){function e(){try{return JSON.parse(JSON.parse(o))}catch{return null}}function i(){try{return JSON.parse(decodeURIComponent(o))}catch{return null}}return e()||i()}function Rt(o,e){var i=Object.keys(o);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(o);e&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),i.push.apply(i,t)}return i}function St(o){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Rt(Object(i),!0).forEach(function(t){Wi(o,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):Rt(Object(i)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(i,t))})}return o}function Wi(o,e,i){return e in o?Object.defineProperty(o,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[e]=i,o}var Pt="__DEFAULT_FEDOPS_OVERRIDES__",Mt=function(){function o(){var i;this._overridesCookie=(i=this._getOverridesFromWindow())!=null?i:this._getOverridesFromDocumentCookieIfExists()}o.persistGlobalOverrides=function(t){h()[Pt]=t};var e=o.prototype;return e.getGlobalOverrides=function(){return this._overridesCookie},e.getCookieOverridesForApp=function(t){return Object.assign({},this._overridesCookie.paramsOverrides,this._overridesCookie.paramsOverridesForApp&&this._overridesCookie.paramsOverridesForApp[t])},e._getOverridesFromDocumentCookieIfExists=function(){try{var t=Li(_t),n=t&&At(t);return n&&typeof n=="object"?(n.paramsOverridesForApp&&(n.paramsOverridesForApp=Object.entries(n.paramsOverridesForApp).reduce(zi,{})),o.persistGlobalOverrides(n),n):{}}catch(a){return console.log(a),{}}},e._getOverridesFromWindow=function(){return h()[Pt]},o}();function zi(o,e){var i,t=e[0],n=e[1];return St(St({},o),{},(i={},i[t.replace(/\./g,"-")]=n,i))}function Li(o){if(!h().document||!h().document.cookie)return"";var e=h().document.cookie.split(";").map(function(a){return a.trim().split("=")}),i=e.filter(function(a){var r=a[0];return r===o}),t=i[0];if(t){var n=t[1];return n}else return""}s();p();var Ft="app-load";s();p();var q={src:72,endpoint:"http-client-poc",httpRequest:{eventId:1100},httpResponse:{eventId:1101},httpResponseTime:{eventId:1102}};s();p();var V=function(){var e,i,t=new Promise(function(n,a){e=n,i=a});return t.resolve=e,t.reject=i,t};s();p();s();p();var he={"1380b703-ce81-ff05-f115-39571d94dfcd_1380bbc4-1485-9d44-4616-92e36b1ead6b":[21,23],"1380b703-ce81-ff05-f115-39571d94dfcd_1380bbc4-1485-9d44-4616-92e36b1ead6b_ssr":[21,23],"14271d6f-ba62-d045-549b-ab972ae1f70e":[22,28],"14271d6f-ba62-d045-549b-ab972ae1f70e_142bb34d-3439-576a-7118-683e690a1e0d":[21,23],"14271d6f-ba62-d045-549b-ab972ae1f70e_142bb34d-3439-576a-7118-683e690a1e0d_ssr":[21,23],"14517e1a-3ff0-af98-408e-2bd6953c36a2":[22,28],"1484cb44-49cd-5b39-9681-75188ab429de":[22,28],"14bcded7-0066-7c35-14d7-466cb3f09103":[22,28],"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9":[22,28],"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9_members":[21],"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9_members_ssr":[21],"14ce1214-b278-a7e4-1373-00cebd1bef7c":[22,28],"14ce1214-b278-a7e4-1373-00cebd1bef7c_getSubscribers":[21,23],"14ce1214-b278-a7e4-1373-00cebd1bef7c_getSubscribers_ssr":[21,23],"14ce1214-b278-a7e4-1373-00cebd1bef7c_init-phase":[21,23],"14ce1214-b278-a7e4-1373-00cebd1bef7c_init-phase_ssr":[21,23],"14ce1214-b278-a7e4-1373-00cebd1bef7c_wixForms":[21,23],"14ce1214-b278-a7e4-1373-00cebd1bef7c_wixForms_ssr":[21,23],"675bbcef-18d8-41f5-800e-131ec9e08762":[22,28],dataBinding:[22,28],"1484cb44-49cd-5b39-9681-75188ab429de_SearchAppController":[21],"1484cb44-49cd-5b39-9681-75188ab429de_SearchAppController_ssr":[21]},xe={script_loaded:[22,28],await_controller_promise:[22,28]},It=Object.keys(he),Ul=Object.keys(xe);var Et=function(){function o(i){this.enableSampleRateForAppNames=i}var e=o.prototype;return e.shouldSampleAppNameEvent=function(t,n,a){var r,l,c=(r=xe[a])==null?void 0:r.includes(n),f=It.includes(t);if(!f||!this.enableSampleRateForAppNames||c)return!1;var m=(l=he[t])!=null?l:[],u=m.includes(n);return this.enableSampleRateForAppNames&&u},o}();function _i(o,e){var i=typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(i)return(i=i.call(o)).next.bind(i);if(Array.isArray(o)||(i=Ai(o))||e&&o&&typeof o.length=="number"){i&&(o=i);var t=0;return function(){return t>=o.length?{done:!0}:{done:!1,value:o[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ai(o,e){if(o){if(typeof o=="string")return Bt(o,e);var i=Object.prototype.toString.call(o).slice(8,-1);if(i==="Object"&&o.constructor&&(i=o.constructor.name),i==="Map"||i==="Set")return Array.from(o);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Bt(o,e)}}function Bt(o,e){(e==null||e>o.length)&&(e=o.length);for(var i=0,t=new Array(e);i<e;i++)t[i]=o[i];return t}function Tt(o,e){var i=Object.keys(o);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(o);e&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),i.push.apply(i,t)}return i}function U(o){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Tt(Object(i),!0).forEach(function(t){Ri(o,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):Tt(Object(i)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(i,t))})}return o}function Ri(o,e,i){return e in o?Object.defineProperty(o,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[e]=i,o}function Ct(o,e){for(var i=0;i<e.length;i++){var t=e[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(o,t.key,t)}}function Si(o,e,i){return e&&Ct(o.prototype,e),i&&Ct(o,i),Object.defineProperty(o,"prototype",{writable:!1}),o}var Dt="wixPerformanceMeasurements",Pi="bpm",G=function(e,i){if(e)return e(i)},Ot=function(e,i){return i?"[guid: "+i+"] "+e:e},Mi=function(e){return e.replace(/\[guid:\s[^\]]+\]\s/,"")},Fi="[object Array]",jt=function(e){return Object.prototype.toString.call(e)===Fi},qt=function(){function o(i,t,n,a){var r={appId:null,widgetId:null,metasiteId:null,sessionId:kt.getSessionId(),isServerSide:null,disableAutoLoadFinish:!1,phasesConfig:B.SEND_ON_START,interactionTimeout:null,timeoutHook:null,startHook:null,endHook:null,isPersistent:!1,corrId:j(),presetType:L.DEFAULT,customParams:{},paramsOverrides:{},enableSampleRateForAppNames:!1},l=Object.assign({},r,a);this.appName=i,this.appVersion=t,this.appId=l.appId,this.widgetId=l.widgetId,this.metasiteId=l.metasiteId,this.corrId=l.corrId,this.isServerSide=l.isServerSide,this.params={sessionId:l.sessionId},this.enableSampleRateForAppNames=l.enableSampleRateForAppNames,this.httpMonitoringDataItems=new ue(this.sessionId,q),this.httpMonitoringReporter=E({preset:q}),this._customParams=Object.assign({},l.customParams),this.disableAutoLoadFinish=l.disableAutoLoadFinish,this.phasesConfig=l.phasesConfig,this._appLoadedCalled={},this._appStartLoadCalled={},this._presetType=l.presetType,this._preset=T(this._presetType),this._constructorParamsOverrides=l.paramsOverrides,this._cookiesParamsOverrides=new Mt,this.dataItems=new ue(this.sessionId,this._preset),this.reporter=n||E({preset:this._preset}),this._times=new O(i),this.loadingPhases=new yt(i,this._times),this.sampleRateManager=new Et(this.enableSampleRateForAppNames),this.dataSourceBase=new be,this.dataSourceBase.addItem(this.dataItems.appName({appName:i,isServerSide:this.isServerSide})).addItem(this.dataItems.dataItem({corrId:this.corrId,is_rollout:!1})).addItem(this.dataItems.dataItem(l.paramsOverrides)),a&&a.artifactData&&this.dataSourceBase.addItem(this.dataItems.artifact(a.artifactData)),"is_rollout"in this._constructorParamsOverrides&&typeof this._constructorParamsOverrides.is_rollout>"u"&&(this._constructorParamsOverrides.is_rollout=!1),this._outgoingInteractions={},this._outgoingHttpRequests={},this.interactionTimeout=l.interactionTimeout,this.timeoutHook=l.timeoutHook,this.startHook=l.startHook,this.endHook=l.endHook,this.isPersistent=l.isPersistent,this._firstErrorFiredInFlow={},this._platformTenantsPromise=V(),this._webVitalsLoadedPromise=V(),this._webVitalsFirstInputPromise=V(),l.reportBlackbox&&this._handleBlackboxPerformance(),this._reportWebVitalsWhenAvailable()}var e=o.prototype;return e._report=function(t,n,a){var r=t.mergeItems();if(!this.sampleRateManager.shouldSampleAppNameEvent(r.appName||this.appName,r.evid,r.name))return this.reporter.report(r,n,a)},e._reportIfNotSSR=function(t,n,a){if(!this.isServerSide||this.appName.includes("thunderbolt"))return this._report(t,n,a)},e._reportHttpMonitoring=function(t){return this.httpMonitoringReporter.report(t.mergeItems(),q.endpoint)},e.getAppName=function(){return this.appName},e.getAppVersion=function(){return this.appVersion},e.getReporter=function(){return this.reporter},e.getHttpMonitoringReporter=function(){return this.httpMonitoringReporter},e.getParam=function(t){return this.params[t]},e._isDisableAutoLoadFinish=function(){return this.disableAutoLoadFinish},e.isDisableAutoLoadFinish=function(){return this._isDisableAutoLoadFinish()},e.reportNetworkAnalysis=function(){},e._getAppLoadingPhaseMarksForApp=function(t){var n=t.appId,a=k.getMarks(),r=[];return a.forEach(function(l){var c=ht(l.name);if(c&&c.appId===n&&!c.widgetId){var f=l.startTime,m=l.name,u=Object.assign({},{startTime:f,name:m},c);r.push(u)}}),r},e._getTimesOfPhase=function(t){var n,a,r=t.phaseName,l=t.appPhasesMarks,c=t.appId,f=(n=l.find(function(u){return u.name==="[fedops] phase:"+r+" "+c+" started"}))==null?void 0:n.startTime,m=(a=l.find(function(u){return u.name==="[fedops] phase:"+r+" "+c+" finished"}))==null?void 0:a.startTime;return{startMarkTime:f,finishMarkTime:m}},e._getPhaseNamesFromMarks=function(t){return new Set(t.map(function(n){return n.phaseName}))},e.reportAppPhasesNetworkAnalysis=function(){},e.appLoadStarted=function(t){var n=t===void 0?{}:t,a=n.appId,r=n.paramsOverrides;if(!(a&&this._appStartLoadCalled[a]||!a&&this._appStartLoadCalled[this.appName])){o._markAppLoadStarted(this.appName),this._appStartLoadCalled[a||this.appName]=!0,this._times.setLoadStarted({appId:a});var l=this.dataSource.addItem(this.dataItems.biAppLoadStart()).addItem(this.dataItems.appContext({appId:a||this.appId,widgetId:this.widgetId,isServerSide:this.isServerSide})).addItem(this._getDataItemWithDefaultParamsOverrides({appName:a})).addItem(this.dataItems.dataItem(r));return a&&this._changeAppNameForEvent(l,a),this._report(l,this._getEndpoint())}},e.httpRequest=function(t){var n=t.artifactId,a=t.method,r=t.url,l=this._getUrlTemplate(r);this._outgoingHttpRequests[l]={timestamp:k.now()};var c=this.dataSource.addItem(this.httpMonitoringDataItems.biHttpRequest()).addItem({artifactId:n,method:a,url:l});this._reportHttpMonitoring(c)},e.httpResponse=function(t){var n=t.artifactId,a=t.method,r=t.statusCode,l=t.url,c=this._getUrlTemplate(l);if(!this._outgoingHttpRequests[c])throw new Error("To use httpResponse you must use httpRequest first");var f=this._outgoingHttpRequests[c].timestamp,m=k.now(),u=Math.floor(m-f),g=this.dataSource.addItem(this.httpMonitoringDataItems.biHttpResponse()).addItem({artifactId:n,method:a,responseTime:u,status_code:r,url:c});this._httpResponseTime({artifactId:n,method:a,responseTime:u,url:c}),this._reportHttpMonitoring(g)},e._httpResponseTime=function(t){var n=t.artifactId,a=t.method,r=t.responseTime,l=t.url,c=this.dataSource.addItem(this.httpMonitoringDataItems.biHttpResponseTime()).addItem({artifactId:n,method:a,responseTime:r,url:l});return this._reportHttpMonitoring(c)},e._getUrlTemplate=function(t){var n=wt(t),a=n.origin,r=n.pathname,l=r.split("/").filter(function(c){return!!c}).map(function(c){return vt(c)}).join("/");return a+"/"+l},e._shouldAddCustomParams=function(t){var n=function(g){return g&&Object.keys(g).length===0&&g.constructor===Object},a=n(this._customParams)&&n(t),r=new Be,l=r.getCurrentConsentPolicy(),c=l.functional,f=l.analytics,m=c&&f;return!a&&m},e._addCustomParamsToEvent=function(t,n){var a=typeof n=="string"?JSON.parse(n):n;if(n=Object.assign({},this._customParams,a),Object.keys(n).length>0){var r=JSON.stringify(n);t.addItem(this.dataItems.customParams(r))}},e.appLoaded=function(t){var n=t===void 0?{}:t,a=n.appId,r=n.customParams,l=n.paramsOverrides;if(!(a&&this._appLoadedCalled[a]||!a&&this._appLoadedCalled[this.appName])){o._clearLoadTimeout(),o._markAndMeasureAppLoad(this.appName),this._appLoadedCalled[a||this.appName]=!0,this._sendLastAppLoadPhaseIfNeeded();var c=this.dataSource.addItem(this.dataItems.biAppLoadFinish()).addItem(this.dataItems.appContext({appId:a||this.appId,widgetId:this.widgetId,isServerSide:this.isServerSide})).addItem(this.dataItems.duration(this._times.getAppLoadTime({appId:a})).setFirstRequestDuration(this._times.getFirstRequestDuration())).addItem(this._getDataItemWithDefaultParamsOverrides({appName:a})).addItem(this.dataItems.dataItem(l));return a&&this._changeAppNameForEvent(c,a),this._shouldAddCustomParams(r)&&this._addCustomParamsToEvent(c,r),this._report(c,this._getEndpoint())}},e.appLoadingPhaseStart=function(t,n){var a=n===void 0?{}:n,r=a.appId,l=a.widgetId,c=a.paramsOverrides;this.loadingPhases.saveLoadingPhase({name:t,appId:r,widgetId:l}),this._sendPreviousPhaseIfNeeded(t,{appId:r,widgetId:l,paramsOverrides:c}),k.mark("[fedops] "+t+" started"),k.mark("[fedops] phase:"+t+" "+r+(l?" "+l:"")+" started");var f=this.dataSource.addItem(this.dataItems.biLoadPhaseStart()).addItem(this.dataItems.appContext({appId:r,widgetId:l})).addItem(this.dataItems.loadingPhaseStart({name:t})).addItem(this._getDataItemWithDefaultParamsOverrides({appName:r})).addItem(this.dataItems.dataItem(c));r&&this._changeAppNameForEvent(f,r),this._report(f,this._getEndpoint())},e._changeAppNameForEvent=function(t,n){t.addItem(this.dataItems.appName({appName:n,isServerSide:this.isServerSide}))},e._sendPreviousPhaseIfNeeded=function(t,n){var a=n===void 0?{}:n,r=a.appId,l=a.widgetId,c=a.paramsOverrides,f=this.loadingPhases.getPhasePreviousTo({name:t,appId:r,widgetId:l});if(f&&this.phasesConfig===B.SEND_ON_START){k.mark("[fedops] "+f.name+" finished");var m=this.dataItems.loadingPhaseFinish(f),u=this.dataItems.biLoadPhaseFinish(),g=this.dataItems.dataItem(c),x=this.dataSource.addItem(m).addItem(u).addItem(this._getDataItemWithDefaultParamsOverrides({appName:r})).addItem(g);this._report(x)}},e.appLoadingPhaseFinish=function(t,n,a){var r=n===void 0?{}:n,l=r.appId,c=r.widgetId,f=r.widgetArray,m=r.paramsOverrides,u=a===void 0?{}:a,g=u.endHook;if(this.phasesConfig===B.SEND_ON_START)throw new Error('To use appLoadingPhaseFinish you must use "phasesConfig: SEND_START_AND_FINISH" setting');k.mark("[fedops] "+t+" finished"),k.mark("[fedops] phase:"+t+" "+l+(c?" "+c:"")+" finished");var x=this.loadingPhases.getAppLoadingPhaseData({name:t,appId:l,widgetId:c});if(!x)throw new Error("Cannot report end of a phase that wasn't started. Phase "+t+" doesn't exist");var v=this.dataItems.loadingPhaseFinish(x),w=this.dataItems.biLoadPhaseFinish(),y=this._getDataItemWithDefaultParamsOverrides({appName:l}),H=this.dataItems.dataItem(m),M=this.dataItems.appContext({appId:l,widgetId:c,widgetArray:f,isServerSide:this.isServerSide});G(g||this.endHook,{name:x.name,duration:Math.floor(k.now()-x.phaseStartTime)});var A=this.dataSource.addItem(v).addItem(w).addItem(M).addItem(y).addItem(H);return l&&this._changeAppNameForEvent(A,l),this._report(A,this._getEndpoint())},e._getEndpoint=function(){return this.isPersistent?this._preset.persistentEndpoint:this._preset.nonPersistentEndpoint},e._getDataItemWithDefaultParamsOverrides=function(t){var n=t===void 0?{}:t,a=n.appName,r=a===void 0?null:a;return this.dataItems.dataItem(U(U({},this._cookiesParamsOverrides.getCookieOverridesForApp(r||this.appName)),this._constructorParamsOverrides))},e._sendLastAppLoadPhaseIfNeeded=function(){var t=this.loadingPhases.getNextPhaseToReport(),n=t&&this.phasesConfig===B.SEND_ON_START;n&&this._report(this.dataSource.addItem(this.dataItems.loadingPhaseFinish(t)).addItem(this.dataItems.biLoadPhaseFinish()))},o._clearLoadTimeout=function(){h()&&h().fedops&&typeof h().fedops.clearLoadTimeout=="function"&&h().fedops.clearLoadTimeout()},e.clearResourceTimings=function(){k.clearResourceTimings()},o._markAppLoadStarted=function(t){k.mark("[fedops] "+t+" app-load-started")},o._markAndMeasureAppLoad=function(t){k.mark("[fedops] "+t+" app-loaded");try{k.measure("[fedops] "+t+" app-loaded","[fedops] "+t+" app-load-started","[fedops] "+t+" app-loaded")}catch{}},e._markInteractionStarted=function(t){k.mark("[fedops] "+this.appName+" interaction "+t+" started")},e._markAndMeasureInteractionEnded=function(t,n){if(n){k.mark("[fedops] "+this.appName+" interaction "+t+" ended");try{k.measure("[fedops] "+t+" duration","[fedops] "+this.appName+" interaction "+t+" started","[fedops] "+this.appName+" interaction "+t+" ended")}catch{}}},e.interactionStarted=function(t,n){var a=this,r=n===void 0?{}:n,l=r.eventGuid,c=r.stack,f=r.timeOverride,m=r.interactionTimeout,u=r.startHook,g=r.timeoutHook,x=r.customParams,v=r.paramsOverrides;this._markInteractionStarted(t);var w=function(){if(m||a.interactionTimeout)return setTimeout(function(){var ee=a.dataSource.addItem({interactionName:t}).addItem({errorType:"timeout"}).addItem(a.dataItems.biError());a._reportIfNotSSR(ee),G(g||a.timeoutHook,{name:t,timeout:m||a.interactionTimeout})},m||a.interactionTimeout)},y=this.dataSource.addItem({name:t}).addItem(this.dataItems.biInteractionStart()).addItem(this._getDataItemWithDefaultParamsOverrides()).addItem(this.dataItems.dataItem(v));this._shouldAddCustomParams(x)&&this._addCustomParamsToEvent(y,x);var H=Ot(t,l),M={timestamp:f||k.now(),timeout:m||this.interactionTimeout};c?(this._outgoingInteractions[H]=this._outgoingInteractions[H]||[],this._outgoingInteractions[H].push(M)):this._outgoingInteractions[H]=M,this._reportIfNotSSR(y),G(u||this.startHook,{name:t});var A=w();return{timeoutId:A}},e.interactionEnded=function(t,n){var a=n===void 0?{}:n,r=a.eventGuid,l=a.timeOverride,c=a.timeoutId,f=a.endHook,m=a.customParams,u=a.paramsOverrides,g=Ot(t,r),x=jt(this._outgoingInteractions[g])?this._outgoingInteractions[g].pop():this._outgoingInteractions[g];this._markAndMeasureInteractionEnded(t,x),c&&clearTimeout(c);var v=x||this._getInteractionFromWindowIfPresent(t),w=l||k.now(),y=v?Math.floor(w-v.timestamp):"";G(f||this.endHook,{name:t,duration:y,timeout:x&&x.timeout});var H=this.dataSource.addItem({name:t}).addItem({duration:y}).addItem(this.dataItems.biInteractionEnd()).addItem(this._getDataItemWithDefaultParamsOverrides()).addItem(this.dataItems.dataItem(u));this._shouldAddCustomParams(m)&&this._addCustomParamsToEvent(H,m),(!jt(this._outgoingInteractions[g])||!this._outgoingInteractions[g].length)&&delete this._outgoingInteractions[g],this._reportIfNotSSR(H)},e._getInteractionsObjectFromWindow=function(){var t,n,a,r;return((t=h())==null||(n=t.fedops)==null||(a=n.apps)==null||(r=a[this.appName])==null?void 0:r.interactions)||{}},e._getInteractionFromWindowIfPresent=function(t){return this._getInteractionsObjectFromWindow()[t]},e.flush=function(){this.reporter.flush()},e._handleBlackboxPerformance=function(){var t=this,n=h(),a=n[Dt];a&&this._handleBlackboxPerformanceEntries(n,a),n.addEventListener&&n.addEventListener(Dt,function(r){var l=r.detail;return t._handleBlackboxPerformanceEntries(n,l)})},e._handleBlackboxPerformanceEntries=function(t,n){var a=this;n.filter(function(r){var l=r.then;return l}).forEach(function(r){r.then(function(l){switch(l.entryType){case"loaded":a._webVitalsLoadedPromise.resolve(l);break;case"first-input":a._webVitalsFirstInputPromise.resolve(l);break;case"page-transitions":case"crux-cls-s":case"responsiveness":l.eventName&&t.addEventListener&&t.addEventListener(l.eventName,function(c){var f=c.detail;return a._sendBlackboxMeasurement(f)});return}a._sendBlackboxMeasurement(l)})})},e._sendBlackboxMeasurement=function(t){var n=this.dataItems.biBlackbox(t);if(n){var a=this.dataItems.blackboxPerformance(t),r=new be().addItem(n).addItem(a),l;t.entryType==="loaded"&&(l={useBatch:!1}),this._report(r,Pi,l),t.entryType==="crux"&&this.flush()}},e.getLoggerForWidget=function(t){var n=t.appName,a=t.appId,r=t.widgetId,l=t.version,c=t.timeoutHook,f=t.startHook,m=t.endHook,u=t.useGlobalLogger,g=t.paramsOverrides,x=t.phasesConfig,v=n||a+"_"+r,w=l||this.getAppVersion(),y=u?this.reporter:E({biLoggerFactory:this.reporter._factory,preset:this._preset}),H={isServerSide:this.isServerSide,appId:a,widgetId:r,sessionId:this.sessionId,phasesConfig:x||B.SEND_ON_START,isPersistent:this.isPersistent,timeoutHook:c,startHook:f,endHook:m,customParams:this._customParams,presetType:this._presetType,paramsOverrides:U(U({},this._constructorParamsOverrides),g),enableSampleRateForAppNames:this.enableSampleRateForAppNames};return new o(v,w,y,H)},e._getUnReportedErrorFlows=function(t){var n=this;return t.filter(function(a){return!n._firstErrorFiredInFlow[a]})},e.reportErrorThrownOncePerFlow=function(){var t=this,n=this._getFlowsOfError(),a=this._getUnReportedErrorFlows(n);a.length&&a.forEach(function(r){t._firstErrorFiredInFlow[r]=!0;var l=t.dataSource.addItem({interactionName:r}).addItem(t.dataItems.biError());t._report(l)})},e._errorHappenedInOneOfAppLoadFlows=function(){return this._errorHappenedInAppLoadFlow()||this._errorHappenedInAppLoadingPhasesFlow()},e._errorHappenedInAppLoadFlow=function(){var t=this._getAppLoadStartedIndication(),n=this._getAppLoadedIndication();return t&&!n},e._getAppLoadStartedIndication=function(){var t,n="[fedops] "+this.appName+" app-load-started",a=(t=k.getEntriesByName(n))==null?void 0:t[0],r=this._times.getLoadStartTime();return a||r},e._getAppLoadedIndication=function(){var t,n="[fedops] "+this.appName+" app-loaded",a=(t=k.getEntriesByName(n))==null?void 0:t[0];return a||this._appLoadedCalled[this.appName]},e._errorHappenedInAppLoadingPhasesFlow=function(t){for(var n=t===void 0?{appId:this.appName}:t,a=n.appId,r=this._getAppLoadingPhaseMarksForApp({appId:a}),l=this._getPhaseNamesFromMarks(r),c=_i(l),f;!(f=c()).done;){var m=f.value,u=this._getTimesOfPhase({phaseName:m,appPhasesMarks:r,appId:a}),g=u.startMarkTime,x=u.finishMarkTime;if(g&&!x)return!0}return!1},e._getFlowsOfError=function(){var t=this._errorHappenedInOneOfAppLoadFlows()?[Ft]:[];return[].concat(t,this._getInteractionNamesWhereErrorHappened())},e._getInteractionNamesWhereErrorHappened=function(){var t=this._getInteractionNamesWhereErrorHappenedFromInstance();if(t.length)return t;var n=Object.keys(this._getInteractionsObjectFromWindow());return n.length?n:this._getInteractionNamesWhereErrorHappenedFromPerformanceMarks()},e._getInteractionNamesWhereErrorHappenedFromInstance=function(){return Object.keys(this._outgoingInteractions).map(function(t){return Mi(t)})},e._getInteractionNamesWhereErrorHappenedFromPerformanceMarks=function(){var t=this._getInteractionMarksOfCurrentApp();return o._getInteractionsThatDidntEndFromMarks(t)},e._getInteractionMarksOfCurrentApp=function(){var t=this,n=k.getMarks();return n.reduce(function(a,r){var l=xt(r.name);return l&&l.appName===t.appName&&(a[l.interactionName]=a[l.interactionName]||[],a[l.interactionName].push({startTime:r.startTime,name:r.name})),a},{})},o._getInteractionsThatDidntEndFromMarks=function(t){var n=[];for(var a in t)if(t.hasOwnProperty(a)){var r=o._countStartedEndedInteractionMarks(t[a]),l=r.startedInteractions,c=r.endedInteractions,f=!l&&!c,m=l-c!==0;(f||m)&&n.push(a)}return n},o._countStartedEndedInteractionMarks=function(t){var n=0,a=0;return t.forEach(function(r){r.name.includes("started")?n++:r.name.includes("ended")&&a++}),{startedInteractions:n,endedInteractions:a}},e.registerPlatformTenants=function(t){this._platformTenantsPromise.resolve(t)},e._reportWebVitalsWhenAvailable=function(){var t=this;Promise.all([this._webVitalsLoadedPromise,this._platformTenantsPromise]).then(function(n){var a=n[0],r=n[1],l=a.cls,c=a.lcp;r.forEach(function(f){var m=t.dataSource.addItem(t.dataItems.webVitalsLoaded()).addItem(t.dataItems.appName({appName:f})).addItem({cls:l,lcp:c});t._report(m)})}),Promise.all([this._webVitalsFirstInputPromise,this._platformTenantsPromise]).then(function(n){var a=n[0],r=n[1],l=a.delay;r.forEach(function(c){var f=t.dataSource.addItem(t.dataItems.webVitalsFirstInput()).addItem(t.dataItems.appName({appName:c})).addItem({fid:l});t._report(f)})})},Si(o,[{key:"dataSource",get:function(){return this.dataSourceBase.clone()}},{key:"sessionId",get:function(){return this.getParam("sessionId")},set:function(t){this.params.sessionId=t}}]),o}();function Vt(o,e){var i=Object.keys(o);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(o);e&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),i.push.apply(i,t)}return i}function Ut(o){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Vt(Object(i),!0).forEach(function(t){Ii(o,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):Vt(Object(i)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(i,t))})}return o}function Ii(o,e,i){return e in o?Object.defineProperty(o,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[e]=i,o}function Ei(){return h().__CI_APP_VERSION__||ct}function Gt(o,e){if(e===void 0&&(e={}),!o)return null;var i=o.replace(/\./g,"-").toLowerCase();mt(i);var t=Ut(Ut({},e),{},{preset:T(e.presetType)}),n=E(t);return new qt(i,Ei(),n,t)}var Bi="editor-performance",Ti="EDITOR";function Ci(o){return o.siteCreationWizard?"Editor2.0 wizard":""}var Yt=({biLoggerModel:o,editorParams:e,options:i})=>{let t=e.isDacRollout?1:0,n=(0,Y.factory)({publishMethod:Y.PublishMethods.Auto,useBatch:i.useBatch}).withUoUContext({msid:e.metaSiteId,visitorId:e.esi,siteMemberId:()=>o.siteMemberId}).updateDefaults({is_rollout:o.is_rollout,is_dac_rollout:t,open_method:Ci(e),isTabDuplicated:e.isTabDuplicated,origin:o.origin,type:"none",ts:()=>Math.round(window.performance.now())});return{logger:Gt(o.fedOpsAppName,{endpoint:Bi,isServerSide:!1,biLoggerFactory:n,phasesConfig:"SEND_ON_FINISH",metasiteId:e.metaSiteId,presetType:Ti,paramsOverrides:{is_rollout:o.is_rollout,is_dac_rollout:t},useBatch:i.useBatch}),updateDefaults:r=>{n.updateDefaults(r)}}};s();p();var Jt=N(Yo());s();p();var X="editor",Xt="trg";s();p();s();p();function $(o){let e=new RegExp(`(?:^|\\W)${o}s*=([^;]*)`),i=window.document.cookie.match(e);return i?i[1].trim():null}function $t(o){let e=(t,n)=>{typeof t=="number"&&(t={evid:t});let a=t.endpoint||X;return o.log({src:t.src||38,evid:t.evid,...n},{endpoint:a})};return{event:e,error:(t,n)=>{let a={recoverable:10,warning:20,error:30,fatal:40},r={evid:10,endpoint:t.endpoint||Xt},l={errn:t.errorName,errc:t.errorCode,sev:a[t.severity]||t.severity,cat:1,iss:1,ut:$("userType")||void 0,...n};return e(r,l)}}}s();p();var Di=o=>{let e="6e51b1b9-0fa7-42df-9637-771a4543f4f4";return{isSiteCreation:o.originalTemplateId===e||o.siteCreationWizard,isSg:Ie(o.originalTemplateId),isSection:o.isSectionsExperienceEnabled,workspace_mode:"FULL"}},Oi=()=>{let o=$("bSession");if(!o)return{};let[e,i]=o.split("|");return{browsing_session:e,bsiPageNumber:i,bsi:o}},Kt=({editorModel:o,editorParams:e})=>{let{editorBase:i,permissionsInfo:t}=o;return{ownerId:t?.ownerId,uuid:t?.loggedInUserId,roles:t?.loggedInUserRoles.map(a=>a.role).join(","),esi:e.esi,is_rollout:e.isRollout,is_dac_rollout:e.isDacRollout?1:0,viewerName:e.viewerName,editor_version:i.split("/").pop()||i,ts:()=>Math.round(Date.now()-(window.mainLoaded||0)),msid:e.metaSiteId,site_id:e.siteId,...Oi(),...Di(e)}};function ji(o,e){let i={};return Object.keys(o).forEach(t=>{i[t]=e(o[t],t)}),i}var qi=15*1024,Zt=({editorModel:o,editorParams:e,options:{useBatch:i}})=>{let t=Kt({editorModel:o,editorParams:e}),n=(0,Jt.factory)({endpoint:X,useBatch:i}).withTransformer(r=>ji(r,(l,c)=>{if(typeof l=="object"&&l!==null)try{l=JSON.stringify(l)}catch(f){l="<NOT_SERIALIZABLE>",console.error(`BI param is not sent due to serialization error, paramName: ${c}, evid: ${r.evid}, errMsg: ${f.message}`)}return typeof l=="string"&&l.length>qi&&(l="<TOO_LONG>",console.error(`BI param is not sent due to hard limit, paramName: ${c}, evid: ${r.evid}`)),l})).setMuted(!e.isBiErrorsAndFedopsEnabled).updateDefaults({src:38,...t}),a=n.logger();return{logger:a,loggerLegacy:$t(a),_initialDefaults:t,updateDefaults:r=>{n.updateDefaults(r)}}};var we=({editorParams:o,editorModel:e={},biLoggerModel:i={},options:t})=>({bi:Zt({editorModel:e,editorParams:o,options:t}),fedops:Yt({biLoggerModel:i,editorParams:o,options:t})});s();p();s();p();s();p();var Vi=["mobileHidden","mobileBackground","mobileSiteSettingsPanel","mobileElements","mobileLayoutOptimizer"];function Ui(o){for(let e of Object.keys(o))if(e.toLowerCase()==="openpanel")return o[e];return null}function Gi(o){return o?.split(".",1)[0]?.toLowerCase()}function Yi(o){return Vi.map(e=>e.toLowerCase()).includes(o)}function Qt(o){let e=Ui(o),i=Gi(e);return i==="mobile"||Yi(i)}s();p();function Xi(o){return Object.keys(o).map(e=>`${encodeURIComponent(e)}=${o[e]==null?"":o[e]}`).join("&")}var K=class{constructor(e,i){S(this,"params");S(this,"_base");this._base=e,this.params=i||{}}base(e){return this._base=e,this}param(e,i){return this.params[e]=i,this}ifParam(e,i,t){return e?this.param(i,t):this}paramsObj(e){return this.params={...this.params,...e},this}url(){let e=Xi(this.params);return e&&(e=`?${e}`),this._base+e}};var $i=/\/([a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12})/,eo=()=>window.appStudioModel,Ki=()=>eo()?.devSiteAppDefId,to=()=>eo()!==void 0;function Ji(){return to()?"appBuilder":"Editor1.4"}var Zi=["metaSiteId","ReactSource","BoltSource","BoltDsSource","viewerSource","DmSource","SantaVersions","baseVersion","boltTag","isqa","editorSessionId","layoutMechanism","experiments","experimentsoff","experimentsOff","viewerexp","suppressbi","WixCodeRuntimeSource","sampleratio","hot","dsQTrace","autosaveRestore","disableSave","debugApp","closeSectionGaps","editorSdkSource","editorPlatformAppSources","viewerPlatformAppSources","PlatformContainerSource","PlatformContainerHttp","esi","configName","wixCodeForceKibanaReport","overridePlatformBaseUrls","viewerPlatformOverrides","ooiInEditorOverrides","editorScriptUrlOverride","tpaWidgetUrlOverride","tpaMobileUrlOverride","tpaSettingsUrlOverride","widgetsUrlOverride","branchId","schemaDevMode","editorScriptHot","forceAutosave","forceAutoSave","isReadOnly","untilTransactionId","bobViewerScriptOverride","appRevisionOverride","sectionPromptVersionOverride","sectionParamsVersionOverride","initialSeed"];function Qi(o){let e=o.match($i);return e?.length&&e[1]}function oo({serviceTopology:o,editorLocation:e,editorModel:i,experiment:t}){let n=o.editorServerRoot||"http://editor.wix.com/html/editor/web",a=`${n}/renderer/render/`,r=`${a}document/`,l=`${a}template/`,c=`${n}/renderer/new?`,m=e.href.indexOf(c)===0?l:r,u=new URL(e.href),g={};u.searchParams.forEach((y,H)=>{g[H]=y}),g.debug=g.debug==="editor"?"":g.debug,g.editorSessionId=i.editorSessionId,g.esi=i.editorSessionId,i.branchId&&(g.branchId=i.branchId);let x=Object.keys(g).find(y=>y.toLowerCase()==="showmobileview"),v={};Object.keys(g).forEach(y=>{(y.endsWith("-override")||Zi.includes(y))&&(v[y]=g[y])});let w=new K(m+(g.siteId||Qi(e.href))).param("isEdited","true").param("isEditor","true").param("isSantaEditor","true").param("dsOrigin",Ji()).param("enableScopes",!0).ifParam(g.controllersUrlOverride,"controllersUrlOverride",g.controllersUrlOverride).ifParam(g.debugViewer,"debug",g.debugViewer).ifParam(g.disablePlatform,"disablePlatform",g.disablePlatform).ifParam(g.disablePlatformApps,"disablePlatformApps",g.disablePlatformApps).ifParam(g.petri_ovr,"petri_ovr",g.petri_ovr).ifParam(t.isOpen("wixstaff"),"iswixsite","true").ifParam(x||Qt(g),"showMobileView","true").ifParam(g.localServerPort,"localServerPort",g.localServerPort).ifParam(g.corvidSessionId,"corvidSessionId",g.corvidSessionId).ifParam(g.shouldSkipLocalModeEncoding,"shouldSkipLocalModeEncoding",g.shouldSkipLocalModeEncoding).ifParam(g.migrationId,"migrationId",g.migrationId).ifParam(g.appDefinitionId,"appDefinitionId",g.appDefinitionId).ifParam(g.branchId,"branchId",g.branchId).ifParam(i.siteMetaData?.renderHints?.isClassicSectionsSite,"experience","editor2").param("lang",i.languageCode).paramsObj(v);if(to()){let y=Ki();w.ifParam(y,"firstSaveExtraPayload",JSON.stringify({devSiteAppDefId:y})),w.param("configName","appStudio").param("applicationStudio","open")}else w.param("configName","fullFunctionality");return w.param("languages",g.languages),w.url()}function en(o,e){e.parentNode.insertBefore(o,e)}function io({previewUrl:o}){return new Promise(e=>{let i=!1,t=a=>{i||(window.removeEventListener("message",n),e(a))},n=a=>{if(o.indexOf(a.origin)===0&&a.data==="documentServicesLoaded"){t(a.source);return}if(o.indexOf(a.origin)===0&&a.data==="mobileConversionFailed_ReloadNeeded"){i=!0,window.location.href=`${window.location.href}&autosaveRestore=false`;return}};window.addEventListener("message",n)})}function tn(o){let e;return()=>(e===void 0&&(e=o()),e)}var on=({fedopsLogger:o})=>{let e=document.querySelector('#preview,[name="preview-frame"]');if(!e)return!1;if(o.appLoadingPhaseStart("editor-init-stage"),o.appLoadingPhaseStart("editor-load-viewer"),o.appLoadingPhaseStart("editor-load-document-service"),window.__previewFrameData)return!0;let i=e.getAttribute("src"),t=io({previewUrl:i});return window.__previewFrameData={frameUrl:i,loadedPromise:t,mountAndGetFrame:()=>e},!0},no=({experiment:o,editorModel:e,serviceTopology:i,fedopsLogger:t})=>{if(on({fedopsLogger:t}))return;let a=oo({editorLocation:window.document.location,editorModel:e,serviceTopology:i,experiment:o}),r=io({previewUrl:a}),c=tn(()=>{let f=document.getElementById("root"),m=document.createElement("iframe");return m.setAttribute("src",a),m.setAttribute("id","preview"),m.setAttribute("allowfullscreen","true"),en(m,f),t.appLoadingPhaseStart("editor-init-stage"),t.appLoadingPhaseStart("editor-load-viewer"),t.appLoadingPhaseStart("editor-load-document-service"),m});window.__previewFrameData={frameUrl:a,loadedPromise:r,mountAndGetFrame:c}};s();p();function ke(o,e){o.identify(e.editorSessionId,{userId:e.permissionsInfo.loggedInUserId,userAgent:window.navigator.userAgent,screenHeight:window.screen.height,screenWidth:window.screen.width})}s();p();s();p();function ao(o){let e=window.performance;!e||!e?.setResourceTimingBufferSize||(e.onresourcetimingbufferfull?e.setResourceTimingBufferSize(o.isDebug?1e3:300):e.onresourcetimingbufferfull=(()=>{let i=150;return()=>{i*=2,e.setResourceTimingBufferSize(i)}})())}function nn({requirejs:o,window:e,bi:i}){let t=function(a,r,l){t=function(){};let c=Array.prototype.slice.call(arguments,3).reduce((f,m,u)=>(f["p"+(u+1)]=m,f),{});i.error({errorName:a,errorCode:r,severity:l},c)},{onerror:n}=e;if(e.onerror=function(a,r,l,c,f){let m=f?.stack?`${f.stack}`:r,{href:u}=e.location;if(t("JAVASCRIPT_ERROR",111022,"fatal",a,m,u),n)return n.apply(this,arguments)},e.console){let{error:a}=console;a&&(console.error=function(...r){let{href:l}=e.location;return t("CONSOLE_ERROR",111023,"error",l,...r),a.apply(this,r)})}o&&(o.onError=function(a){if(a.message?.indexOf&&a.message.indexOf('Module name "js-beautify" has not been loaded yet')===0)return;let{requireModules:r=[],message:l,stack:c,errn:f="REQUIREJS_ERROR",errc:m=111024,severity:u="fatal",requireType:g}=a,x=r.join(";"),v=c?""+c:l,{href:w}=e.location;t(f,m,u,v,x,w,g)})}function ye({window:o,requirejs:e,queryUtil:i,editorLoggers:t,editorModel:n,editorParams:a}){n=n||{};let{editorVersion:r}=n;o.performance?.mark("main-r loaded"),ao(a);let l=t.bi.loggerLegacy;o.bi=l;let c=i.isParameterTrue("bi"),f=r&&!a.isDebug&&a.isBiErrorsAndFedopsEnabled;(c||f)&&nn({window:o,requirejs:e,bi:l})}s();p();s();p();var xo=N(lo()),vo=N(uo()),wo=N(ne());s();p();function ho(){return typeof window.LARGE_NUMBER_OF_OPEN_EXPERIMENTS!="string"||window.LARGE_NUMBER_OF_OPEN_EXPERIMENTS.length===0?{}:Object.fromEntries(window.LARGE_NUMBER_OF_OPEN_EXPERIMENTS.split(",").map(o=>[o,"new"]))}var ko=(0,wo.default)(window);function dn(){return(0,xo.default)({},ko,"editor")}var{editorModel:C}=window;C&&(C.runningExperiments={...C.runningExperiments,...ho(),...dn()},C.languageCode=ko.getParameterByName("lang")||C.languageCode);var yo=vo.default.build(window);var I=yo;s();p();var Z=class{constructor({permissions:e}={}){S(this,"store");this.store=new Set(e)}has(e){if(!e)throw new TypeError('Parameter "permissionName" not provided');return this.store.has(e)}};s();p();function Ho({fedopsLogger:o}){return e=>{o.reportErrorThrownOncePerFlow();let i=o._getFlowsOfError?.()||[],[t,n,a]=i;return e.tags={...e.tags,fedopsInteractionOrPhase:t,fedopsInteractionOrPhase2:n,fedopsInteractionOrPhase3:a},e.extra={...e.extra,fedopsInteractionsOrPhases:i},e}}s();p();s();p();s();p();var No=new Set([]);var bn=50,fn=({experiment:o,editorModel:e})=>{let i=o.isOpen("se_sectionsMigration")||o.isOpen("se_sectionsMigrationEditor"),t=e.isDraft||e.firstSave,n=No.has(e.siteHeader.originalTemplateId);return i&&t&&!n||o.isOpen("se_sectionsForceMigration")},gn=({experiment:o,editorModel:e,queryUtil:i})=>e.onboardingEditorUrl&&i.isParameterTrue("onboarding")&&i.isParameterTrue("sectionsMigration")||o.isOpen("se_sectionsMigrationEditor")&&e.onboardingEditorUrl&&i.isParameterTrue("onboarding")||o.isOpen("se_sectionsForceMigrationADI"),mn=({experiment:o,editorModel:e,queryUtil:i})=>{let{permissionsInfo:t}=e;return(t&&t.ownerId===t.loggedInUserId||o.isOpen("se_sectionsMigrationNonOwner")||i.isParameterTrue("forceSectionsMigration"))&&(o.isOpen("se_sectionsMigrationEditor")||i.isParameterTrue("forceSectionsMigration"))},un=({experiment:o,editorModel:e,queryUtil:i})=>e.siteHeader.pageIdList.pages.length>=bn&&o.isOpen("se_heavySitesMigrationLoader")||i.isParameterTrue("forceSectionsMigration"),Wo=({experiment:o})=>o.isOpen("se_perPageSectionsMigration"),hn=({experiment:o,editorModel:e})=>o.isOpen("se_sectionsMigrationDisableImpersonate")?!1:e.isImpersonated;function zo({isInsideEditorX:o,isInsideAppStudio:e,experiment:i,editorModel:t,queryUtil:n}){let a=hn({experiment:i,editorModel:t});if(e||o||i.isOpen("se_kill_sections")||a)return;let r;switch(!0){case fn({experiment:i,editorModel:t}):r="template";break;case gn({experiment:i,editorModel:t,queryUtil:n}):Wo({experiment:i})?r="perPage_adi":r="adi";break;case mn({experiment:i,editorModel:t,queryUtil:n}):Wo({experiment:i})?r="perPage_editor":un({experiment:i,editorModel:t,queryUtil:n})?r="heavySite":r="editor";break}return r}s();p();var _o="editorTabDuplicateIndex";function xn(o){let e=!1,i=null;return function(){return e||(e=!0,i=o(...arguments)),i}}function vn(){return parseInt(sessionStorage.getItem(_o)||"0",10)}function Lo(o){sessionStorage.setItem(_o,String(o))}function Ao(){let o=vn(),e=o>0;return Lo(o+1),window.onunload=window.onbeforeunload=xn(()=>{Lo(o)}),{isTabDuplicated:e}}s();p();s();p();s();p();s();p();var wn=1e3;function Ne(o,e){let i=o();function t(f){i.postMessage(f)}function n(){t({action:"Init",initConfig:e})}function a(){t({action:"Alive"})}function r(){t({action:"Pause"})}function l(){t({action:"Resume"})}n(),a();let c=setInterval(a,wn);return{pause:r,resume:l,destroy(){clearInterval(c),i.terminate()}}}var kn=[10*1e3,30*1e3,60*1e3];function Ro(o,{editorBaseHooks:e,biDefaults:i,editorParams:t}){if(t.isInsideEditorX)return;let n=je(i,l=>typeof l!="function"),a=t.debugOptions.includes("healthcheck"),r=Ne(o,{reportConfig:{timeouts:kn,logObject:Fe(n)},debug:a});a&&import("./chunks/initHealthCheckMonitor.XWHLI3WP.js").then(({initHealthCheckMonitor:l})=>{l()}),e.tabChanged.tap(({isCurrentTabActive:l})=>{l?r.resume():r.pause()}),e.siteCreationCreatePresets.tap(({isCreatePresetsInProgress:l})=>{l?r.pause():r.resume()})}s();p();function So({editorLoggers:o,editorBaseHooks:e}){window.addEventListener("visibilitychange",function(){let i=!document.hidden;e.tabChanged.fire({isCurrentTabActive:i}),o.bi.logger.report(Me({actionName:i?"suspend":"activate"}))})}s();p();s();p();var Mo=N(Se());s();p();var yn="0.0.9",Po=({editorParams:o,experiment:e,queryUtil:i})=>{if(o.sectionsMigrationFlow==="perPage_editor"||o.sectionsMigrationFlow==="perPage_adi")return!0;let n=i.isParameterTrue("forceSectionsMigration"),a=e.isOpen("se_heavySitesMigrationLoader"),r=o.sectionsMigrationFlow==="heavySite"||o.sectionsMigrationFlow==="editor",l=o.sectionsMigrationFlow==="adi"&&i.getParameterByName("migrationTrigger")==="reminder",c=o.sectionsMigrationVersion!==yn;return(n||a)&&(r||l)&&c};function We({editorParams:o,editorBaseHooks:e,experiment:i,fedopsLogger:t,biLogger:n,queryUtil:a,loadI18n:r}){let l=()=>{Ve()};return Po({editorParams:o,experiment:i,queryUtil:a})?(l(),Wn({editorBaseHooks:e,editorParams:o,loadI18n:r,biLogger:n})):o.sectionsMigrationFlow==="editor"&&!i.isOpen("se_heavySitesMigrationLoader")?(l(),Nn({editorBaseHooks:e,loadI18n:r})):!o.isInsideEditorX&&!o.isInsideAppStudio&&!o.siteCreationWizard&&!o.siteGenerationWizard&&o.isSectionsExperienceEnabled?(l(),zn({editorBaseHooks:e,fedopsLogger:t,loadI18n:r})):Hn()}var Q=()=>{let o=window.document.getElementById("video-preloader");return{element:o,remove:()=>o?.parentNode?.removeChild(o)}};function Hn(){let o=Q();return{unmount:()=>{o.remove()}}}function Nn({editorBaseHooks:o,loadI18n:e}){let i=Q(),t=import("./chunks/sectionMigrationInitialLoader.K2TZ2RGO.js").then(({mountLoader:n})=>n({loadI18n:e,editorBaseHooks:o}));return{unmount:()=>{t.then(({unmount:n})=>{n()}),i.remove()}}}function Wn({editorBaseHooks:o,loadI18n:e,biLogger:i,editorParams:t}){let n=Q(),a=import("./chunks/heavySitesMigrationLoader.MRJATGZX.js").then(({mountLoader:r})=>r({editorBaseHooks:o,loaderContainer:n.element,loadI18n:e,biLogger:i,flow:t.sectionsMigrationFlow}));return{unmount(){window.__IS_MIGRATION_FAILED__?setTimeout(()=>{a.then(({unmount:r})=>{r()}),n.remove()},7e3):(a.then(({unmount:r})=>{r()}),n.remove())}}}function zn({editorBaseHooks:o,fedopsLogger:e,timelineMode:i,loadI18n:t}){let n=Q(),a=l=>{Mo.ErrorReporter.captureException(l,{tags:{operation:"progressive-initial-loader"}})};e.appLoadingPhaseStart("main-chunk-init-initial-loader");let r=import("./chunks/progressiveInitialLoader.S7RZD7FX.js").then(async({mountLoader:l})=>l({timelineMode:i,timelinePendingPhases:{"leftBar.original":o.editorBuildAndRender.promise},loaderContainer:n.element,reportError:a,loadI18n:t}));return r.then(()=>{e.appLoadingPhaseFinish("main-chunk-init-initial-loader")},l=>{a(l)}),{unmount(){r.then(({unmount:l})=>{l()}),n.remove()}}}s();p();var Fo=()=>({tabChanged:te(),siteCreationCreatePresets:te(),editorBuildAndRender:P(),createInstallAppsHooks:P(),wizardFinish:P(),sectionsMigrationStarted:P(),sectionsMigrationReady:P(),UNSTABLE_sectionsMigrationFailedOnHomePage:P(),isSiteCreationUiVisible:P()});s();p();s();p();function ze(o,e){let i=new Blob([o],{type:"text/javascript"}),t=URL.createObjectURL(i),n=new Worker(t,e);return URL.revokeObjectURL(t),n}function Le(){return ze('var C=Object.defineProperty,b=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var g=(e,o,t)=>o in e?C(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,s=(e,o)=>{for(var t in o||(o={}))w.call(o,t)&&g(e,t,o[t]);if(m)for(var t of m(o))I.call(o,t)&&g(e,t,o[t]);return e},c=(e,o)=>b(e,E(o));var l={post(e){fetch(e,{method:"POST"})}};var u={log(e){let o=new URLSearchParams(e.params);o.set("src",String(e.src)),o.set("evid",String(e.evid)),l.post(`https://frog.wix.com/${e.endpoint}?${o.toString()}`)}};var a=e=>Math.round(e/1e3),h=e=>console.log(`%c [${a(performance.now())}s] ${e}`,"color: green;"),p=e=>console.log(`%c [${a(performance.now())}s] ${e}`,"color: red;");var i,n,f=!1;function k(e){if(!(e!=null&&e.reportConfig))throw new Error("`MessageAction.Init` is sent without `reportConfig`");i=e}function L({timeout:e,logObject:o}){if(f)return;p(`Main thread health check timeout: ${e}\nApplication is probably frozen.`);let t=self.performance?Math.round(self.performance.now()):0;u.log(c(s({},o),{params:c(s({},o.params),{timeout:e,ts:t})}))}function v(){if(!i||!i.reportConfig)throw new Error("Health check worker is not initialized with config.\\nEnsure worker initialized with `reportConfig`.");let e=Date.now(),{timeouts:o,logObject:t}=i.reportConfig;if(n==null||n.forEach(r=>{clearTimeout(r)}),n=o.map(r=>setTimeout(L,r,{timeout:r,logObject:t})),i.debug){h("health check: \\u{1F49A}");let r=2e3;n.push(setTimeout(()=>{p(`health check: \\u{1F6A9} (${a(Date.now()-e)}s since alive)`)},r))}}function A(){f=!0}function _(){f=!1}self.onmessage=e=>{switch(e.data.action){case"Init":k(e.data.initConfig);break;case"Alive":v();break;case"Pause":A();break;case"Resume":_();break;default:throw new Error(`Unknown worker event action: ${e.data.action}`)}};\n',{name:"healthCheck.worker.ts"})}var{versions:_n}=Io(),W=(0,Eo.default)(window);window.joinURL=Bo.default;window.queryUtil=W;window.persistent=(0,Co.default)(window);window.identifyForFullStory=ke;function An(o){let e={};return Object.keys(o).forEach(i=>{e[i]=o[i].replace(/\/$/,"")}),e}window.serviceTopology.scriptsLocationMap=An(window.serviceTopology.scriptsLocationMap);window.customRenderSite!==void 0&&window.customRenderSite();var Do=o=>{window.name=`editor-${o}`};window.name||Do(window.editorModel.metaSiteId);window.addEventListener("beforeunload",()=>{window.name="",setTimeout(Do.bind(null,window.editorModel.metaSiteId),1e3)});function Rn(){let o=/1\.\d+\.\d+/g;window.serviceTopology.scriptsLocationMap["santa-langs"]=window.serviceTopology.scriptsLocationMap["santa-langs"].replace(o,_n["santa-langs"]),window.serviceTopology.scriptsLocationMap=(0,To.default)(window.serviceTopology.scriptsLocationMap,W.getParameterByName("scriptsLocations"))}var Sn=o=>/^(https?:)?\/\/localhost|local.wix.com($|[/:])/.test(o);async function Oo(o){let e=Fo();try{return await Pn(o,e)}catch(i){e.editorBuildAndRender.reject(i),console.error(i),_e.ErrorReporter.captureException(i,{extra:jo(),tags:{failedToLoadEditor:!0,operation:"editor-bootstrap"}})}}function jo(){try{let o=HTMLScriptElement.supports,e=!!(o&&o.name==="supports"&&o("importmap")),i=document.querySelector('script[type="importmap"]'),t=document.querySelector('script[type="importmap-shim"]'),n=!!i;return{supportsImportMaps:e,hasNativeImportMap:n,hasImportMapShim:!!t,esmShimPolyfillTriggered:!e&&n,userAgent:navigator.userAgent}}catch(o){return{getErrorExtraError:o?.message}}}async function Pn(o,e){let{shouldBiErrorsAndFedops:i}=o;window.afterEditorPrefetch=!1;let{loggerModel:t,editorModel:n,appStudioModel:a,serviceTopology:r}=window,{isTabDuplicated:l}=Ao(),c=o.isInsideEditorX,f=a!==void 0;if(f&&!c&&I.isOpen("se_appBuilderSunset")){location.replace("https://www.wix.com/blocks/app-builder-sunset");return}let m=Ee({isInsideEditorX:c,isInsideAppStudio:f,editorModel:n,experiment:I}),u=m?void 0:zo({isInsideEditorX:c,isInsideAppStudio:f,editorModel:n,experiment:I,queryUtil:W}),g=W.getParameterByName("debug")||localStorage?.getItem("editor-debug"),x=g?g.split(","):[],v={isInsideEditorX:c,isInsideAppStudio:f,isSectionsExperienceEnabled:m,sectionsMigrationFlow:u,sectionsMigrationVersion:n.siteHeader.migrationVersion,baseUIOverrides:Oe(W.getParameterByName("baseUIOverrides")),appsToInstall:qe("appsToInstall"),isLocal:Sn(W.getParameterByName("EditorSource")),isDebug:!!g,debugOptions:x,isQA:W.isParameterTrue("isqa"),siteGenerationWizard:W.getParameterByName("siteGenerationWizard")==="true"&&n.isSiteCreationEligible,siteCreationWizard:W.getParameterByName("siteCreationWizard")==="true"&&n.isSiteCreationEligible,originalTemplateId:n.siteHeader.originalTemplateId,isTestRunner:W.isParameterTrue("istestrunner"),isBiErrorsAndFedopsEnabled:!W.isParameterTrue("suppressbi")&&i,isRollout:!!t.is_rollout,isDacRollout:t.is_dac_rollout,shouldMeasureFrameRate:o.measureFrameRate,viewerName:t.origin,esi:n.editorSessionId,siteId:n.siteHeader?.id,metaSiteId:n.metaSiteId||t.metaSiteId,isTabDuplicated:l};n&&(n.languageCode=W.getParameterByName("lang")||n.languageCode,n.editorVersion=Ce(n.editorBase),n.editorBase=n.editorBase.replace(/\/$/,""));let w=we({biLoggerModel:t,editorParams:v,editorModel:n,options:{useBatch:!0}}),y=w.fedops.logger,H=w.bi.logger;if(window.__editor_bi_loggers__=w.bi,window.EDITOR_EXPERIMENT_MODULE=I,Ro(()=>Le(),{editorBaseHooks:e,biDefaults:w.bi._initialDefaults,editorParams:v}),_e.ErrorReporter._addEventProcessor(Ho({fedopsLogger:y})),window.mainLoaded=Date.now(),y.appLoadingPhaseStart("main-chunk"),Rn(),no({experiment:I,editorModel:n,editorParams:v,serviceTopology:r,fedopsLogger:y}),ye({window,requirejs:void 0,queryUtil:W,editorLoggers:w,editorModel:n,editorParams:v}),So({editorLoggers:w,editorBaseHooks:e}),De({editorLoggers:w}),n){let{performance:R}=window,Re=R?R.navigation:void 0,qo=Re?Re.type:void 0;H.report(Pe({navigationType:qo,jsHeapSizeLimit:JSON.stringify(jo())}))}let M=()=>import("json!langs").then(R=>R.default),A=We({editorParams:v,editorBaseHooks:e,experiment:I,fedopsLogger:y,biLogger:H,queryUtil:W,loadI18n:M});window.initialLoader=A,v.siteGenerationWizard&&await import("./chunks/siteGeneration.NCJXHKZ6.js").then(async({startSiteGenerationWizard:R})=>await R({editorBaseHooks:e,loadI18n:M,unmountInitialLoader:A.unmount,fedopsLogger:y,isDebugMode:v.isDebug})),v.siteCreationWizard&&await import("./chunks/siteCreation.LT52YYMI.js").then(({renderSiteCreation:R})=>R({unmountInitialLoader:A.unmount,hooks:e}));let Ae=new Z({permissions:n.permissionsInfo.permissions}),{builtEditor:ee}=await nt({editorLoggers:w,editorModel:n,editorParams:v,editorPermissions:Ae,editorBaseHooks:e},o);return e.editorBuildAndRender.resolve(),y.appLoadingPhaseFinish("main-chunk"),ee}import("./chunks/editor-vi-fonts.global.DPP4DBVR.js");window.santaBase="https://static.parastorage.com/services/santa/1.11783.0";Oo({isInsideEditorX:!1,measureFrameRate:!0,shouldBiErrorsAndFedops:!0,shouldRender:!0});
//# sourceMappingURL=__MAIN__.YHANVX3M.js.map
